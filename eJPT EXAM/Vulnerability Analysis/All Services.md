
#### FTP Enumeration
1. `ftp_version` : to check FTP version
2. `ftp_login` : to BF login credentials
	-> user : */usr/share/metasploit-framework/data/wordlists/common_users.txt*
	-> pass : */usr/share/metasploit-framework/data/wordlists/unix_passwords.txt*
	
	NOTE : BF can cause a DOS attack on target and make it down.
	
3. `anonymous` : this module helps to check whether we can login it as anonymous user or NOT.

4. nmap script to Brute Force :
	-> `echo 'sysadmin' > users`
	-> `nmap -p 21 --script=ftp-brute 192.237.183.3 --script-args userdb=./users` 

----
#### SMB Enumeration
1. `smb_version` : used to find SMB service version
2. `smb_enumusers` : enumerate users on SMB port
3. `smb_enumshares` : enumerate shares 
4. `smb_login` : BF the login creds
Wordlist:
/usr/share/metasploit-framework/data/wordlists/common_users.txt
/usr/share/metasploit-framework/data/wordlists/unix_passwords.txt

-> `smbclient -L \\\\IP\\ -U user` : get into the SMB 
-> `smbclient \\\\IP\\SHARE -U user` : get into a particular share

###### scripts & tools
-> `--script=smb-os-discovery` : get you the adject version of SMB service.
-> `nmblookup -A demo.ine.local` : tools to play with sbm
-> `smbclient -L ////demo.ine.local -U anonymous` : anonymous login in SMB 

-> `rpcclient -U "" -N demo.ine.local` : rpcclient tool to work with SMB 
	-> `rpcclient $> querydominfo`

#### `smb_enumshares` : enumerate shares 
```
smb_enumshares
show options
set rhosts <target_ip>
set ShowFiles true
run
```


----
#### HTTP Enumeration
1. `http_version` : get the adject version
2. `http_header` : get the uncommon headers
3. `robots_txt` : get you the robots.txt
4. `dir_scanner` : dir enumeration module in msf
	-> /usr/share/metasploit-framework/data/wmap/wmap_dirs.txt
5. `files_dir` : file enumeration just like dir enum
	-> /usr/share/metasploit-framework/data/wmap/wmap_files.txt
6. `http_login` : BF the creds of a HTTP website 
	*user lists*
	-> /usr/share/metasploit-framework/data/http_default_users.txt
	-> /usr/share/metasploit-framework/data/wordlists/namelist.txt
	*pass lists*
	-> /usr/share/metasploit-framework/data/http_default_pass.txt
	-> /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt 
7. `http_userdir_enum` : get the potential usernames form apache website.

----
#### MySQL Enumeration
-> `search type:auxiliary name:mysql`

1. `mysql_version` : to get the version
2. `mysql_login` : perform a BF 
3. `mysql_enum` : help to enumerate DB, *need USER/PASS*
4. `mysql_sql` : used to execute SQL queries on the server *need USER/PASS* 
5. `mysql_schemadump` : dump all the tables of inside schema.
6. `mysql_writable_dirs` : check which directory is writable in system *need USER/PASS*
	-> /usr/share/metasploit-framework/data/wordlists/directory.txt

-> `mysql -h IP -u root -p`  : connect to the SQL DB

----
#### SSH Enumeration
-> `search type:auxiliary name:ssh` 

1. `ssh_version` : get the adject version

-> if the target is configured to authenticate by a USER:PASS pair then use this
2. `ssh_login` : perform a BF for USER/PASS

->  if the target is configured to authenticate by a PUBKEY pair then use this
3. `ssh_login_pubkey` : perform a BF for PUBLIC KEYS.

4. `ssh_enumusers` : used to enumerate users.
	-> /usr/share/metasploit-framework/data/http_default_users.txt
	->/usr/share/metasploit-framework/data/wordlists/common_users.txt
	-> usr/share/metasploit-framework/data/wordlists/common_passwords.txt

#### SMTP Enumeration
-> `search type:auxiliary name:smtp`
-> Port : 25 , 465 , 587 

1. `smtp_version` : get the version of SMTP -> also give email/domain of the version
2. `smtp_enum` : enumerate users , emails on the SMTP.

-> `nc demo.ine.local 25` : connect with SMTP
-> `EHLO openmailbox.xyz` : Start with SMTP (this mail comes on banner when you try to connect with `nc` or `telnet`.
-> `EHLO openmailbox.xyz` : pop up all the commands present on the server
-> `VRFY user` : replace user with actual user like admin : to check whether a user is present on the server or not !!

--> command to enumerate users 
	`smtp-user-enum -t demo.ine.local -U /usr/share/commix/src/txt/usernames.txt -M VRFY`

-> Commands to send mail on the server to any user 
```bash
telnet demo.ine.local 25
HELO attacker.xyz
mail from: admin@attacker.xyz
rcpt to:root@openmailbox.xyz
data
Subject: Hi Root
Hello,
This is a fake mail sent using telnet command.
From,
Admin
.
```

-> `sendmail` : command to send mails over SMTP though Terminal 
	-> `sendemail -f admin@attacker.xyz -t root@openmailbox.xyz -s demo.ine.local -u Fakemail -m "Hi root, a fake from admin" -o tls=no`
	-> `-f` : FROM
	-> `-t` : TO
	-> `-s` : SMTP Server (IP)	
	-> `-u` : subject
	-> `-m` : message body
	-> `-o` : setting the TLS off 

-----
#### SAMBA
-> PORT : 139/445

Plot : It usage USER/PASS Authentication in order to obtain access to the server , now we can do a Brute Force attack in order to gain access to the server.

###### Tools : 
1. `SMBClient` :
	-> `smbclient -L IP -U USERNAME` : get the shares name.
	-> `smbclient //IP/SHARE -U USERNAME` : get the particular share data.
	-> `get FILENAME` : get download a file

2. `SMBMap` :
	->  `smbmap -H IP -u USERNAME -p PASSWORD`

3. `enum4linux` : tool used to enumerate samba server. alt of `enum.exe` : for windows
	-> `enum4linux -a -u USER -p PASSWORD IP` : to get all information about the samba server
	-> `enum4linux -a IP` : in case , if don't have USER/PASS.
	-> `enum4linux -a -u admin -p password1 demo.ine.local`

4. `hydra` : to perform BF
	-> `hydra -l admin -P /usr/share/wordlists/rockyou.txt.gz  demo.ine.local smb`

5. `auxiliary/scanner/smb/pipe_auditor `
	-> MSF Module to file pipe 

###### version 3.0.20 :: vulnerable to command injection :: MSF module :: No auth need

----
#### PHP 
-> search for and `phpinfo.php` file and additional information related to PHP
-> USE _directory enumeration_ tool with `-x php`
-> Version `< 5.3.1` are vulnerable to _REMOTE CODE EXECUTION_

--------------------

#### WebDAV

```
nmap -sV -p 80 --script=http-enum <ip>
```

Brut-force the user and pass for authentication 
```
	hydra -L /usr/share/wordlists/metasploit/common_users.txt -P /usr/share/wordlists/metasploit/common_users.txt <IP> http-get /webdav/
```

###### Tools
1. `davtest` : used to scan , auth & exploit a DAV server.
	-> `davtest -url http://IP/webdav`  #without authentication
	 -> `davtest -auth user:pass -url http://ip/webdev` #With authentication
	-> give info about which filetypes can be upload , is directory writeable or not etc.

2. `cadaver` : It supports , file uploads , download , on screen display , in place editing , name-space operation (move/copy) , collection creation & deletion , property manipulation & resource locking on DAV servers.
	-> `cadaver http://IP/webdav` : fill user and password in prompt and use `put`
	command to upload a file like `.asp` reverse shell.
	-> */usr/share/webshells/asp/webshell.asp*




#### Web Server enumeration
`auxiliary/scanner/http/http_version`
